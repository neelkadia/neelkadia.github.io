<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <meta http-equiv="Content-Security-Policy" content="block-all-mixed-content">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kissmap</title>
  <meta name="author" content="Neel Kadia">
  <meta name="description" content="Places where we have kissed">
  <script src='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js'></script>
  <link href='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css' rel='stylesheet' />
  <style>
    body { margin:0; padding:0; }
    .map { position:absolute; top:0; bottom:0; width:100%; }
  </style>
  <meta name="theme-color" content="#F43737">
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53682312-1', 'auto');
  ga('send', 'pageview');

</script>
<style> body,button,input,select,textarea,pre{margin:0}h1,h2,h3,h4,h5,h6,p,dl,ol,ul{margin-top:0;margin-bottom:0}button,input,select,textarea{font-family:inherit;font-size:100%}article,aside,details,figcaption,figure,footer,header,main,nav,section,summary{display:block}body{font-family:'Open Sans', sans-serif;line-height:1.5rem;font-weight:400}h1,h2,h3,h4,h5,h6,strong,.bold{font-weight:600}h1,.h1,.f1{font-size:2.25rem;line-height:3rem}h2,.h2,.f2{font-size:1.5rem;line-height:2rem}h3,.h3,.f3{font-size:1.25rem;line-height:1.5rem}p,.p,.f4,h4,h5,h6,dl,ol,ul{font-size:1.125rem;line-height:1.5rem}small,.small,.f5{font-size:.875rem;line-height:1.5rem}@media screen and (min-width: 48em){.h1{font-size:3rem;line-height:4rem}.h2{font-size:2rem;line-height:2.5rem}.h3{font-size:1.5rem;line-height:2rem}.small{font-size:1rem}}.regular{font-weight:normal}.italic{font-style:italic}.caps{text-transform:uppercase;letter-spacing:.2em}.center{text-align:center}.right-align{text-align:right}.measure{max-width:48rem}.measure-narrow{max-width:32rem}.measure-wide{max-width:60rem}.leading-1{line-height:1.5rem}.leading-2{line-height:2rem}.leading-3{line-height:3rem}.leading-4{line-height:4rem}.m0{margin:0}.mb0{margin-bottom:0}.m1{margin:1rem}.mt1{margin-top:1rem}.mr1{margin-right:1rem}.mb1{margin-bottom:1rem}.ml1{margin-left:1rem}.m2{margin:2rem}.mt2{margin-top:2rem}.mr2{margin-right:2rem}.mb2{margin-bottom:2rem}.ml2{margin-left:2rem}.m3{margin:3rem}.mt3{margin-top:3rem}.mr3{margin-right:3rem}.mb3{margin-bottom:3rem}.ml3{margin-left:3rem}.m4{margin:4rem}.mt4{margin-top:4rem}.mr4{margin-right:4rem}.mb4{margin-bottom:4rem}.ml4{margin-left:4rem}.wrap{margin-right:auto;margin-left:auto}.m-responsive{margin:2rem}.mt-responsive{margin-top:2rem}.mr-responsive{margin-right:2rem}.mb-responsive{margin-bottom:2rem}.ml-responsive{margin-left:2rem}@media screen and (min-width: 48em) and (max-width: 64em){.m-responsive{margin:3rem}.mt-responsive{margin-top:3rem}.mr-responsive{margin-right:3rem}.mb-responsive{margin-bottom:3rem}.ml-responsive{margin-left:3rem}}@media screen and (min-width: 64em){.m-responsive{margin:4rem}.mt-responsive{margin-top:4rem}.mr-responsive{margin-right:4rem}.mb-responsive{margin-bottom:4rem}.ml-responsive{margin-left:4rem}}.p1{padding:1rem}.px1{padding-right:1rem;padding-left:1rem}.py1{padding-top:1rem;padding-bottom:1rem}.p2{padding:2rem}.px2{padding-right:2rem;padding-left:2rem}.py2{padding-top:2rem;padding-bottom:2rem}.p3{padding:3rem}.px3{padding-right:3rem;padding-left:3rem}.py3{padding-top:3rem;padding-bottom:3rem}.p4{padding:4rem}.px4{padding-right:4rem;padding-left:4rem}.py4{padding-top:4rem;padding-bottom:4rem}.p-responsive{padding:1.5rem}.px-responsive{padding-right:1.5rem;padding-left:1.5rem}.py-responsive{padding-top:1.5rem;padding-bottom:1.5rem}@media screen and (min-width: 48em) and (max-width: 64em){.p-responsive{padding:3rem}.px-responsive{padding-right:3rem;padding-left:3rem}.py-responsive{padding-top:3rem;padding-bottom:3rem}}@media screen and (min-width: 64em){.p-responsive{padding:4rem}.px-responsive{padding-right:4rem;padding-left:4rem}.py-responsive{padding-top:4rem;padding-bottom:4rem}}.inline{display:inline}.block{display:block}.inline-block{display:inline-block}.oh{overflow:hidden}.left{float:left}.right{float:right}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.fit{max-width:100%}.full-width{width:100%}.half-width{width:50%}.mobile-show{display:none}@media screen and (max-width: 48em){.mobile-show,.mobile-block{display:block}.mobile-block{width:100%}.mobile-hide{display:none}.mobile-center{text-align:center}}.container{max-width:64rem;margin-right:auto;margin-left:auto}@media screen and (min-width: 40em){.grid,.mobile-grid{float:left;margin-left:3%}.grid:first-child,.mobile-grid:first-child{margin-left:0}.grid-1,.mobile-grid-1{width:5.58333%}.grid-2,.mobile-grid-2{width:14.16667%}.grid-3,.mobile-grid-3{width:22.75%}.grid-4,.mobile-grid-4{width:31.33333%}.grid-5,.mobile-grid-5{width:39.91667%}.grid-6,.mobile-grid-6{width:48.5%}.grid-7,.mobile-grid-7{width:57.08333%}.grid-8,.mobile-grid-8{width:65.66667%}.grid-9,.mobile-grid-9{width:74.25%}.grid-10,.mobile-grid-10{width:82.83333%}.grid-11,.mobile-grid-11{width:91.41667%}}.button{font-family:inherit;font-weight:bold;text-decoration:none;cursor:pointer;border:none;-webkit-appearance:none;appearance:none;white-space:nowrap;display:inline-block;line-height:2rem;height:auto;min-height:2rem;padding:.5rem 1rem}.button-big{padding:1rem 1.5rem}.button-small{padding:0 1rem}.list{padding-left:2rem}.list-simple{list-style:none;padding-left:0}.list-inline{list-style:none;padding-left:0}.list-inline li{display:inline;white-space:nowrap}.white{color:#fff}.blue{color:#0096cc}.light-gray{color:#eee}.mid-gray{color:#708690}.dark-gray{color:#405660}.red{color:#f52}.green{color:#0f6}.orange{color:#fc2}.bg-white{background-color:#fff}.bg-blue{background-color:#0096cc}.bg-light-gray{background-color:#eee}.bg-mid-gray{background-color:#708690}.bg-dark-gray{background-color:#405660}.bg-red{background-color:#f52}.bg-green{background-color:#0f6}.bg-orange{background-color:#fc2}body{color:#405660;background-color:#fff}a{color:#0096cc;text-decoration:none}a:hover{color:#007199}.button{border-radius:.25rem;transition-duration:.2s;transition-timing-function:ease;transition-property:box-shadow , background-color}.button:focus{outline:none;box-shadow:0 0 0 2px #fff,0 0 1px 4px rgba(0,150,204,0.5)}.button-blue{color:#fff;background-color:#0096cc}.button-blue:hover{color:#fff;background-color:#004b66}.button-gray{color:#fff;background-color:#708690}.button-gray:hover{color:#fff;background-color:#435157}.form-light .input,.form-light .textarea,.form-light .select{transition:box-shadow .2s ease;border-color:#708690}.form-light .input:focus,.form-light .textarea:focus,.form-light .select:focus{outline:none;border-color:#0096cc;box-shadow:0 0 0.125rem rgba(0,150,204,0.5)}.form-light .radio input,.form-light .checkbox input{transition:box-shadow .2s ease}.form-light .radio input:focus,.form-light .checkbox input:focus{outline:none;box-shadow:0 0 0 2px #fff,0 0 1px 4px rgba(0,150,204,0.5)}.form-light .radio input{border-radius:50%}.border{border-style:solid;border-width:1px}.border-top{border-top-style:solid;border-top-width:1px}.border-light-gray{border-color:#eee}.rounded{border-radius:.25rem}.transition-all{transition:all .2s ease} </style>
</head>
<body>
<div id='map-leaflet' class='map'> </div>
<script src="https://www.gstatic.com/firebasejs/3.0.2/firebase.js"></script>
<script>
// Initialize Firebase
var config = {
	apiKey: "AIzaSyCZLmeRo94iVPNsXOisR_3yW057paPxTaM",
	authDomain: "forurvi-ddeb2.firebaseapp.com",
	databaseURL: "https://forurvi-ddeb2.firebaseio.com",
	storageBucket: "forurvi-ddeb2.appspot.com",
	messagingSenderId: "689826269182"
};
firebase.initializeApp(config);

// Get a reference to the database service
firebase.database().ref().on('value', function(snapshot) {
L.mapbox.accessToken = 'pk.eyJ1IjoibmVlbGthZGlhIiwiYSI6ImszWnlnOWsifQ.YJX8N6Mw1yphVLseKMN_zA';
var mapLeaflet = L.mapbox.map('map-leaflet', 'mapbox.streets-basic')
  .setView([23.186452, 72.631643], 6);
L.geoJson(snapshot.val(),
    { style: function (feature) {
    return {color: feature.properties.color};
     },
   	onEachFeature: function (feature, layer) {
     layer.bindPopup("<b>"+feature.properties.name+"</b>")},
      pointToLayer: function (feature, latlng) {
        //return L.circleMarker(latlng, geojsonMarkerOptions);
        return L.marker(latlng, {icon: L.mapbox.marker.icon({
        'marker-size': feature.properties.markersize,
        'marker-symbol': feature.properties.markersymbol,
        'marker-color': feature.properties.markercolor
    })});
    }
}).addTo(mapLeaflet);
});
</script>
</body>
</html>
